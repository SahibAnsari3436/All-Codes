function custom_add_to_cart_redirect() {
    return wc_get_checkout_url();
}
add_filter('woocommerce_add_to_cart_redirect', 'custom_add_to_cart_redirect');

function custom_one_click_checkout_button() {
    global $product;

    if ( is_product() ) {
        $checkout_url = wc_get_checkout_url();
        echo '<a href="' . $checkout_url . '?add-to-cart=' . $product->get_id() . '" class="single_add_to_cart_button button alt">Buy Now</a>';
    }
}
add_action( 'woocommerce_after_add_to_cart_button', 'custom_one_click_checkout_button' );